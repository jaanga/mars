<!doctype html>
<html lang=en >
<head>
<title>img-read-first-line.html</title>
<meta charset=utf-8 />
</head>
<body>
<script>
// first lines of img files may have text data or may have actual data
// this script helps you identify which type an img file is

	document.body.style.cssText = ' font: bold 12pt monospace; ';

	var info = document.body.appendChild( document.createElement( 'div' ) );
	info.innerHTML = '<a href="" ><h1>' + document.title + '</h1></a>' +
		'<div id=msg1 ></div>' +

	'';

	var path = '../heightmaps/';
	var fileName = path + 'megt90n000cb.img';

	var fileName = 'c:/temp/mars-heightmaps/img-128p/megt00n000hb.img'; // looks like data

	var xmlHttp;

	requestFile();

	function requestFile() {
		start = 0;
		stop = 23000;
		xmlHttp = new XMLHttpRequest();
		xmlHttp.open( 'GET', fileName, true );
		xmlHttp.setRequestHeader( 'Range', 'bytes=' + start + '-' + stop );
		xmlHttp.onreadystatechange = callback;
		xmlHttp.send( null );

	}

	function callback() {

		if ( xmlHttp.readyState != 4  ) { return; }
		text = xmlHttp.responseText;
		var lines = text.split(/\r\n|\n/);

		msg1.innerText = text;
//		console.log( text );

	}

</script>
</body>
</html>